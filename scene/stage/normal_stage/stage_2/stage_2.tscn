[gd_scene load_steps=8 format=2]

[ext_resource path="res://prefab/stage/stage_2_tileset.tres" type="TileSet" id=1]
[ext_resource path="res://prefab/actor/player/player.tscn" type="PackedScene" id=2]
[ext_resource path="res://prefab/object/normal_gate.tscn" type="PackedScene" id=3]
[ext_resource path="res://prefab/ui/player/player_ui.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/stage/Stage.gd" type="Script" id=5]
[ext_resource path="res://prefab/ui/loading_ui.tscn" type="PackedScene" id=6]
[ext_resource path="res://prefab/common/scene_loader.tscn" type="PackedScene" id=7]

[node name="Stage2" type="Node"]
script = ExtResource( 5 )
stage_list = [ "res://scene/stage/normal_stage/stage_1/stage_1.tscn", "res://scene/stage/normal_stage/stage_3/stage_3.tscn", "res://scene/player/player_scene.tscn" ]

[node name="GameController" type="Node" parent="."]

[node name="SceneLoader" parent="GameController" instance=ExtResource( 7 )]

[node name="UI" type="CanvasLayer" parent="."]

[node name="PlayerUI" parent="UI" instance=ExtResource( 4 )]

[node name="LoadingUI" parent="UI" instance=ExtResource( 6 )]
visible = false

[node name="GameWorld" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="GameWorld"]
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
cell_custom_transform = Transform2D( 16, 0, 0, 16, 0, 0 )
collision_layer = 8
collision_mask = 2147483648
format = 1
tile_data = PoolIntArray( 327679, 0, 0, 262144, 0, 1, 262145, 0, 1, 262146, 0, 2, 393215, 0, 65536, 327680, 0, 65537, 327681, 0, 65537, 327682, 0, 65538, 458751, 0, 65536, 393216, 0, 65537, 393217, 0, 65537, 393218, 0, 65538, 524287, 0, 65536, 458752, 0, 65537, 458753, 0, 65537, 458754, 0, 65538, 589823, 0, 65536, 524288, 0, 65537, 524289, 0, 65537, 524290, 0, 65538, 655359, 0, 65536, 589824, 0, 65537, 589825, 0, 65537, 589826, 0, 65538, 720895, 0, 65536, 655360, 0, 65537, 655361, 0, 65537, 655362, 0, 65538, 655413, 0, 0, 655414, 0, 1, 655415, 0, 1, 655416, 0, 2, 786431, 0, 65536, 720896, 0, 65537, 720897, 0, 65537, 720898, 0, 65538, 720949, 0, 65536, 720950, 0, 65537, 720951, 0, 65537, 720952, 0, 65538, 851967, 0, 65536, 786432, 0, 65537, 786433, 0, 65537, 786434, 0, 65538, 786485, 0, 65536, 786486, 0, 65537, 786487, 0, 65537, 786488, 0, 65538, 917503, 0, 65536, 851968, 0, 65537, 851969, 0, 65537, 851970, 0, 65538, 852021, 0, 65536, 852022, 0, 65537, 852023, 0, 65537, 852024, 0, 65538, 983039, 0, 65536, 917504, 0, 65537, 917505, 0, 65537, 917506, 0, 65538, 917557, 0, 65536, 917558, 0, 65537, 917559, 0, 65537, 917560, 0, 65538, 1048575, 0, 65536, 983040, 0, 65537, 983041, 0, 65537, 983042, 0, 65538, 983093, 0, 65536, 983094, 0, 65537, 983095, 0, 65537, 983096, 0, 131077, 983097, 0, 2, 1114111, 0, 65536, 1048576, 0, 65537, 1048577, 0, 65537, 1048578, 0, 65538, 1048629, 0, 65536, 1048630, 0, 65537, 1048631, 0, 65537, 1048632, 0, 65537, 1048633, 0, 65538, 1179647, 0, 65536, 1114112, 0, 65537, 1114113, 0, 65537, 1114114, 0, 65538, 1114165, 0, 65536, 1114166, 0, 65537, 1114167, 0, 65537, 1114168, 0, 65537, 1114169, 0, 65538, 1245183, 0, 65536, 1179648, 0, 65537, 1179649, 0, 65537, 1179650, 0, 65538, 1179679, 0, 0, 1179680, 0, 1, 1179681, 0, 1, 1179682, 0, 2, 1179700, 0, 0, 1179701, 0, 131078, 1179702, 0, 65537, 1179703, 0, 65537, 1179704, 0, 65537, 1179705, 0, 65538, 1310719, 0, 65536, 1245184, 0, 65537, 1245185, 0, 65537, 1245186, 0, 65538, 1245215, 0, 65536, 1245216, 0, 65537, 1245217, 0, 65537, 1245218, 0, 65538, 1245236, 0, 65536, 1245237, 0, 65537, 1245238, 0, 65537, 1245239, 0, 65537, 1245240, 0, 65537, 1245241, 0, 65538, 1376255, 0, 65536, 1310720, 0, 65537, 1310721, 0, 65537, 1310722, 0, 65538, 1310751, 0, 65536, 1310752, 0, 65537, 1310753, 0, 65537, 1310754, 0, 65538, 1310772, 0, 65536, 1310773, 0, 65537, 1310774, 0, 65537, 1310775, 0, 65537, 1310776, 0, 65537, 1310777, 0, 65538, 1441791, 0, 65536, 1376256, 0, 65537, 1376257, 0, 65537, 1376258, 0, 65538, 1376287, 0, 65536, 1376288, 0, 65537, 1376289, 0, 65537, 1376290, 0, 65538, 1376308, 0, 65536, 1376309, 0, 65537, 1376310, 0, 65537, 1376311, 0, 65537, 1376312, 0, 65537, 1376313, 0, 65538, 1507327, 0, 65536, 1441792, 0, 65537, 1441793, 0, 65537, 1441794, 0, 65538, 1441823, 0, 65536, 1441824, 0, 65537, 1441825, 0, 65537, 1441826, 0, 65538, 1441844, 0, 65536, 1441845, 0, 65537, 1441846, 0, 65537, 1441847, 0, 65537, 1441848, 0, 65537, 1441849, 0, 65538, 1572863, 0, 65536, 1507328, 0, 65537, 1507329, 0, 65537, 1507330, 0, 65538, 1507350, 0, 0, 1507351, 0, 1, 1507352, 0, 1, 1507353, 0, 2, 1507359, 0, 65536, 1507360, 0, 65537, 1507361, 0, 65537, 1507362, 0, 65538, 1507380, 0, 65536, 1507381, 0, 65537, 1507382, 0, 65537, 1507383, 0, 65537, 1507384, 0, 65537, 1507385, 0, 65538, 1638399, 0, 65536, 1572864, 0, 65537, 1572865, 0, 65537, 1572866, 0, 65538, 1572886, 0, 65536, 1572887, 0, 65537, 1572888, 0, 65537, 1572889, 0, 65538, 1572895, 0, 65536, 1572896, 0, 65537, 1572897, 0, 65537, 1572898, 0, 65538, 1572905, 0, 0, 1572906, 0, 1, 1572907, 0, 1, 1572908, 0, 1, 1572909, 0, 1, 1572910, 0, 1, 1572911, 0, 2, 1572916, 0, 65536, 1572917, 0, 65537, 1572918, 0, 65537, 1572919, 0, 65537, 1572920, 0, 65537, 1572921, 0, 131077, 1572922, 0, 1, 1572923, 0, 1, 1572924, 0, 1, 1572925, 0, 1, 1572926, 0, 1, 1572927, 0, 1, 1572928, 0, 1, 1572929, 0, 2, 1703935, 0, 65536, 1638400, 0, 65537, 1638401, 0, 65537, 1638402, 0, 65538, 1638422, 0, 65536, 1638423, 0, 65537, 1638424, 0, 65537, 1638425, 0, 65538, 1638431, 0, 65536, 1638432, 0, 65537, 1638433, 0, 65537, 1638434, 0, 65538, 1638441, 0, 65536, 1638442, 0, 65537, 1638443, 0, 65537, 1638444, 0, 65537, 1638445, 0, 65537, 1638446, 0, 65537, 1638447, 0, 65538, 1638452, 0, 65536, 1638453, 0, 65537, 1638454, 0, 65537, 1638455, 0, 65537, 1638456, 0, 65537, 1638457, 0, 65537, 1638458, 0, 65537, 1638459, 0, 65537, 1638460, 0, 65537, 1638461, 0, 65537, 1638462, 0, 65537, 1638463, 0, 65537, 1638464, 0, 65537, 1638465, 0, 65538, 1769471, 0, 65536, 1703936, 0, 65537, 1703937, 0, 65537, 1703938, 0, 65538, 1703958, 0, 65536, 1703959, 0, 65537, 1703960, 0, 65537, 1703961, 0, 65538, 1703967, 0, 65536, 1703968, 0, 65537, 1703969, 0, 65537, 1703970, 0, 65538, 1703977, 0, 65536, 1703978, 0, 65537, 1703979, 0, 65537, 1703980, 0, 65537, 1703981, 0, 65537, 1703982, 0, 65537, 1703983, 0, 65538, 1703988, 0, 65536, 1703989, 0, 65537, 1703990, 0, 65537, 1703991, 0, 65537, 1703992, 0, 65537, 1703993, 0, 65537, 1703994, 0, 65537, 1703995, 0, 65537, 1703996, 0, 65537, 1703997, 0, 65537, 1703998, 0, 65537, 1703999, 0, 65537, 1704000, 0, 65537, 1704001, 0, 65538, 1835007, 0, 65536, 1769472, 0, 65537, 1769473, 0, 65537, 1769474, 0, 65538, 1769494, 0, 65536, 1769495, 0, 65537, 1769496, 0, 65537, 1769497, 0, 65538, 1769503, 0, 65536, 1769504, 0, 65537, 1769505, 0, 65537, 1769506, 0, 65538, 1769513, 0, 65536, 1769514, 0, 65537, 1769515, 0, 65537, 1769516, 0, 65537, 1769517, 0, 65537, 1769518, 0, 65537, 1769519, 0, 65538, 1769524, 0, 65536, 1769525, 0, 65537, 1769526, 0, 65537, 1769527, 0, 65537, 1769528, 0, 65537, 1769529, 0, 65541, 1769530, 0, 131073, 1769531, 0, 131073, 1769532, 0, 131073, 1769533, 0, 131073, 1769534, 0, 131073, 1769535, 0, 131073, 1769536, 0, 131073, 1769537, 0, 131074, 1900543, 0, 65536, 1835008, 0, 65537, 1835009, 0, 65537, 1835010, 0, 65538, 1835020, 0, 0, 1835021, 0, 1, 1835022, 0, 1, 1835023, 0, 2, 1835030, 0, 65536, 1835031, 0, 65537, 1835032, 0, 65537, 1835033, 0, 65538, 1835039, 0, 65536, 1835040, 0, 65537, 1835041, 0, 65537, 1835042, 0, 65538, 1835049, 0, 65536, 1835050, 0, 65537, 1835051, 0, 65537, 1835052, 0, 65537, 1835053, 0, 65537, 1835054, 0, 65537, 1835055, 0, 65538, 1835060, 0, 65536, 1835061, 0, 65537, 1835062, 0, 65537, 1835063, 0, 65537, 1835064, 0, 65537, 1835065, 0, 65538, 1966079, 0, 65536, 1900544, 0, 65537, 1900545, 0, 65537, 1900546, 0, 131077, 1900547, 0, 1, 1900548, 0, 1, 1900549, 0, 1, 1900550, 0, 2, 1900556, 0, 65536, 1900557, 0, 65537, 1900558, 0, 65537, 1900559, 0, 65538, 1900566, 0, 65536, 1900567, 0, 65537, 1900568, 0, 65537, 1900569, 0, 131077, 1900570, 0, 1, 1900571, 0, 1, 1900572, 0, 1, 1900573, 0, 1, 1900574, 0, 1, 1900575, 0, 131078, 1900576, 0, 65537, 1900577, 0, 65537, 1900578, 0, 65538, 1900585, 0, 65536, 1900586, 0, 65537, 1900587, 0, 65537, 1900588, 0, 65537, 1900589, 0, 65537, 1900590, 0, 65537, 1900591, 0, 131077, 1900592, 0, 1, 1900593, 0, 1, 1900594, 0, 1, 1900595, 0, 1, 1900596, 0, 131078, 1900597, 0, 65537, 1900598, 0, 65537, 1900599, 0, 65537, 1900600, 0, 65541, 1900601, 0, 131074, 2031615, 0, 65536, 1966080, 0, 65537, 1966081, 0, 65537, 1966082, 0, 65537, 1966083, 0, 65537, 1966084, 0, 65537, 1966085, 0, 65537, 1966086, 0, 65538, 1966092, 0, 65536, 1966093, 0, 65537, 1966094, 0, 65537, 1966095, 0, 65538, 1966102, 0, 65536, 1966103, 0, 65537, 1966104, 0, 65537, 1966105, 0, 65537, 1966106, 0, 65537, 1966107, 0, 65537, 1966108, 0, 65537, 1966109, 0, 65537, 1966110, 0, 65537, 1966111, 0, 65537, 1966112, 0, 65537, 1966113, 0, 65537, 1966114, 0, 65538, 1966121, 0, 65536, 1966122, 0, 65537, 1966123, 0, 65537, 1966124, 0, 65537, 1966125, 0, 65537, 1966126, 0, 65537, 1966127, 0, 65537, 1966128, 0, 65537, 1966129, 0, 65537, 1966130, 0, 65537, 1966131, 0, 65537, 1966132, 0, 65537, 1966133, 0, 65537, 1966134, 0, 65537, 1966135, 0, 65537, 1966136, 0, 65538, 2097151, 0, 65536, 2031616, 0, 65537, 2031617, 0, 65537, 2031618, 0, 65537, 2031619, 0, 65537, 2031620, 0, 65537, 2031621, 0, 65537, 2031622, 0, 65538, 2031628, 0, 65536, 2031629, 0, 65537, 2031630, 0, 65537, 2031631, 0, 65538, 2031638, 0, 65536, 2031639, 0, 65537, 2031640, 0, 65537, 2031641, 0, 65537, 2031642, 0, 65537, 2031643, 0, 65537, 2031644, 0, 65537, 2031645, 0, 65537, 2031646, 0, 65537, 2031647, 0, 65537, 2031648, 0, 65537, 2031649, 0, 65537, 2031650, 0, 65538, 2031657, 0, 65536, 2031658, 0, 65537, 2031659, 0, 65537, 2031660, 0, 65537, 2031661, 0, 65537, 2031662, 0, 65537, 2031663, 0, 65537, 2031664, 0, 65537, 2031665, 0, 65537, 2031666, 0, 65537, 2031667, 0, 65537, 2031668, 0, 65537, 2031669, 0, 65537, 2031670, 0, 65537, 2031671, 0, 65537, 2031672, 0, 65538, 2162687, 0, 65536, 2097152, 0, 65537, 2097153, 0, 65537, 2097154, 0, 65537, 2097155, 0, 65537, 2097156, 0, 65537, 2097157, 0, 65537, 2097158, 0, 65538, 2097164, 0, 65536, 2097165, 0, 65537, 2097166, 0, 65537, 2097167, 0, 131077, 2097168, 0, 1, 2097169, 0, 1, 2097170, 0, 1, 2097171, 0, 1, 2097172, 0, 1, 2097173, 0, 1, 2097174, 0, 131078, 2097175, 0, 65537, 2097176, 0, 65537, 2097177, 0, 65537, 2097178, 0, 65537, 2097179, 0, 65537, 2097180, 0, 65537, 2097181, 0, 65537, 2097182, 0, 65537, 2097183, 0, 65537, 2097184, 0, 65537, 2097185, 0, 65537, 2097186, 0, 131077, 2097187, 0, 1, 2097188, 0, 1, 2097189, 0, 1, 2097190, 0, 1, 2097191, 0, 1, 2097192, 0, 1, 2097193, 0, 131078, 2097194, 0, 65537, 2097195, 0, 65537, 2097196, 0, 65537, 2097197, 0, 65537, 2097198, 0, 65537, 2097199, 0, 65541, 2097200, 0, 131073, 2097201, 0, 131073, 2097202, 0, 131073, 2097203, 0, 131073, 2097204, 0, 131073, 2097205, 0, 65542, 2097206, 0, 65537, 2097207, 0, 65537, 2097208, 0, 65538, 2228223, 0, 65536, 2162688, 0, 65537, 2162689, 0, 65537, 2162690, 0, 65537, 2162691, 0, 65537, 2162692, 0, 65537, 2162693, 0, 65537, 2162694, 0, 65538, 2162700, 0, 65536, 2162701, 0, 65537, 2162702, 0, 65537, 2162703, 0, 65537, 2162704, 0, 65537, 2162705, 0, 65537, 2162706, 0, 65537, 2162707, 0, 65537, 2162708, 0, 65537, 2162709, 0, 65537, 2162710, 0, 65537, 2162711, 0, 65537, 2162712, 0, 65537, 2162713, 0, 65541, 2162714, 0, 131073, 2162715, 0, 131073, 2162716, 0, 131073, 2162717, 0, 131073, 2162718, 0, 131073, 2162719, 0, 65542, 2162720, 0, 65537, 2162721, 0, 65537, 2162722, 0, 65537, 2162723, 0, 65537, 2162724, 0, 65537, 2162725, 0, 65537, 2162726, 0, 65537, 2162727, 0, 65537, 2162728, 0, 65537, 2162729, 0, 65537, 2162730, 0, 65537, 2162731, 0, 65537, 2162732, 0, 65537, 2162733, 0, 65537, 2162734, 0, 65537, 2162735, 0, 65538, 2162741, 0, 65536, 2162742, 0, 65537, 2162743, 0, 65537, 2162744, 0, 65538, 2293759, 0, 65536, 2228224, 0, 65537, 2228225, 0, 65537, 2228226, 0, 65537, 2228227, 0, 65537, 2228228, 0, 65537, 2228229, 0, 65537, 2228230, 0, 65538, 2228236, 0, 65536, 2228237, 0, 65537, 2228238, 0, 65537, 2228239, 0, 65541, 2228240, 0, 131073, 2228241, 0, 131073, 2228242, 0, 131073, 2228243, 0, 131073, 2228244, 0, 131073, 2228245, 0, 131073, 2228246, 0, 65542, 2228247, 0, 65537, 2228248, 0, 65537, 2228249, 0, 65538, 2228255, 0, 65536, 2228256, 0, 65537, 2228257, 0, 65537, 2228258, 0, 65541, 2228259, 0, 131073, 2228260, 0, 131073, 2228261, 0, 131073, 2228262, 0, 131073, 2228263, 0, 131073, 2228264, 0, 65542, 2228265, 0, 65537, 2228266, 0, 65537, 2228267, 0, 65537, 2228268, 0, 65537, 2228269, 0, 65537, 2228270, 0, 65537, 2228271, 0, 65538, 2228277, 0, 65536, 2228278, 0, 65537, 2228279, 0, 65537, 2228280, 0, 65538, 2359295, 0, 65536, 2293760, 0, 65537, 2293761, 0, 65537, 2293762, 0, 65537, 2293763, 0, 65537, 2293764, 0, 65537, 2293765, 0, 65537, 2293766, 0, 131077, 2293767, 0, 1, 2293768, 0, 1, 2293769, 0, 1, 2293770, 0, 1, 2293771, 0, 1, 2293772, 0, 131078, 2293773, 0, 65537, 2293774, 0, 65537, 2293775, 0, 65538, 2293782, 0, 65536, 2293783, 0, 65537, 2293784, 0, 65537, 2293785, 0, 65538, 2293791, 0, 65536, 2293792, 0, 65537, 2293793, 0, 65537, 2293794, 0, 65538, 2293800, 0, 131072, 2293801, 0, 65542, 2293802, 0, 65537, 2293803, 0, 65537, 2293804, 0, 65537, 2293805, 0, 65537, 2293806, 0, 65537, 2293807, 0, 65538, 2293813, 0, 65536, 2293814, 0, 65537, 2293815, 0, 65537, 2293816, 0, 65538, 2424831, 0, 65536, 2359296, 0, 65537, 2359297, 0, 65537, 2359298, 0, 65537, 2359299, 0, 65537, 2359300, 0, 65537, 2359301, 0, 65537, 2359302, 0, 65537, 2359303, 0, 65537, 2359304, 0, 65537, 2359305, 0, 65537, 2359306, 0, 65537, 2359307, 0, 65537, 2359308, 0, 65537, 2359309, 0, 65537, 2359310, 0, 65537, 2359311, 0, 65538, 2359318, 0, 65536, 2359319, 0, 65537, 2359320, 0, 65537, 2359321, 0, 65538, 2359327, 0, 65536, 2359328, 0, 65537, 2359329, 0, 65537, 2359330, 0, 65538, 2359337, 0, 65536, 2359338, 0, 65537, 2359339, 0, 65537, 2359340, 0, 65537, 2359341, 0, 65537, 2359342, 0, 65537, 2359343, 0, 65538, 2359349, 0, 65536, 2359350, 0, 65537, 2359351, 0, 65537, 2359352, 0, 65538, 2490367, 0, 131072, 2424832, 0, 131073, 2424833, 0, 131073, 2424834, 0, 131073, 2424835, 0, 131073, 2424836, 0, 131073, 2424837, 0, 131073, 2424838, 0, 131073, 2424839, 0, 131073, 2424840, 0, 131073, 2424841, 0, 65542, 2424842, 0, 65537, 2424843, 0, 65537, 2424844, 0, 65537, 2424845, 0, 65537, 2424846, 0, 65537, 2424847, 0, 65538, 2424854, 0, 65536, 2424855, 0, 65537, 2424856, 0, 65537, 2424857, 0, 65538, 2424863, 0, 131072, 2424864, 0, 131073, 2424865, 0, 131073, 2424866, 0, 131074, 2424873, 0, 65536, 2424874, 0, 65537, 2424875, 0, 65537, 2424876, 0, 65537, 2424877, 0, 65537, 2424878, 0, 65537, 2424879, 0, 65538, 2424885, 0, 131072, 2424886, 0, 131073, 2424887, 0, 131073, 2424888, 0, 131074, 2490377, 0, 131072, 2490378, 0, 131073, 2490379, 0, 131073, 2490380, 0, 131073, 2490381, 0, 131073, 2490382, 0, 131073, 2490383, 0, 131074, 2490390, 0, 131072, 2490391, 0, 131073, 2490392, 0, 131073, 2490393, 0, 131074, 2490409, 0, 131072, 2490410, 0, 131073, 2490411, 0, 131073, 2490412, 0, 131073, 2490413, 0, 131073, 2490414, 0, 131073, 2490415, 0, 131074 )

[node name="NormalGate" parent="GameWorld" instance=ExtResource( 3 )]
position = Vector2( 719.539, 290.775 )

[node name="Player" parent="GameWorld" instance=ExtResource( 2 )]
position = Vector2( 224.757, 419.919 )
[connection signal="on_finish_load" from="GameController/SceneLoader" to="." method="_on_SceneLoader_on_finish_load"]
[connection signal="on_start_load" from="GameController/SceneLoader" to="." method="_on_SceneLoader_on_start_load"]
[connection signal="on_update_load" from="GameController/SceneLoader" to="." method="_on_SceneLoader_on_update_load"]
[connection signal="on_interact" from="GameWorld/NormalGate" to="." method="_on_NormalGate_on_interact"]
[connection signal="on_attack" from="GameWorld/Player" to="UI/PlayerUI" method="_on_Player_on_attack"]
[connection signal="on_stat_changed" from="GameWorld/Player" to="UI/PlayerUI" method="_on_Player_on_stat_changed"]
